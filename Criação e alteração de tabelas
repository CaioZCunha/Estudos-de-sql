CREATE DATABASE PrimeiroBanco

USE PrimeiroBanco

CREATE TABLE Tipos (
	CODIGO INT NOT NULL PRIMARY KEY,
	TIPO VARCHAR(20) NOT NULL,
	UNIDADE CHAR(02) NOT NULL,
)

CREATE TABLE Produtos (
	CODPRODUTO INT NOT NULL,
	DATACADASTRO DATE,
	DESCRICAO VARCHAR(20),
	CODTIPO INT,
	QUANTIDADE INT,
	PRECOCUSTO MONEY,
	PRECOVENDA MONEY,
	VENCIMENTO DATE,
	CONSTRAINT PK_CODIGO_PROD PRIMARY KEY (CODPRODUTO),
	CONSTRAINT FK_CODIGO_TIPO FOREIGN KEY (CODTIPO) REFERENCES TIPOS(CODIGO)
)

INSERT INTO Tipos(CODIGO,TIPO,UNIDADE) VALUES (1, 'Bebidas', 'LT')
INSERT INTO Tipos(CODIGO,TIPO,UNIDADE) VALUES (2, 'Enlatados', 'LT')
INSERT INTO Tipos(CODIGO,TIPO,UNIDADE) VALUES (3, 'Não Pereciveís', 'SC')

INSERT INTO PRODUTOS (CODPRODUTO,	DATACADASTRO,	DESCRICAO,
					  CODTIPO,	    QUANTIDADE,		PRECOCUSTO,
					  PRECOVENDA) VALUES
(1, '05/26/03', 'Coca-Cola', 1, 50, 2.00, 3.00),
(2, '05/26/03', 'Milho',     2, 15, 1.50, 4.00),
(3, '05/27/03', 'Açúcar',    3, 20, 4.00, 7.50),
(4, '05/28/03', 'Sal',       3, 25, 3.00, 6.00),
(5, '05/28/03', 'Farinha',   3, 23, 2.50, 3.50);
SELECT * FROM PRODUTOS

ALTER TABLE Produtos DROP COLUMN VENCIMENTO

ALTER TABLE Produtos ADD QTDEMINIMO INT

UPDATE Produtos SET QTDEMINIMO = 10

UPDATE Produtos SET PRECOVENDA = PRECOVENDA * 1.1

UPDATE Produtos SET PRECOCUSTO = PRECOCUSTO * 0.8
WHERE CODTIPO = 3

UPDATE Produtos SET DESCRICAO = 'Pespi'
WHERE DESCRICAO = 'Coca-cola'

ALTER TABLE Tipos DROP COLUMN UNIDADE

SELECT *
FROM Tipos

ALTER TABLE Tipos ADD SIGLA CHAR(02)

UPDATE Tipos SET SIGLA = 'LT' WHERE TIPO = 'Bebidas'
UPDATE Tipos SET SIGLA = 'LA' WHERE TIPO = 'Enlatados'
UPDATE Tipos SET SIGLA = 'NP' WHERE TIPO = 'Não pereciveís'

select *
from Tipos

DELETE FROM Produtos WHERE DESCRICAO = 'Sal'

select *
from Produtos

DELETE Produtos WHERE CODTIPO = 3
